{
  "experiment": {
    "name": "federated_a2v_generator_training_all_classes_1node",
    "description": "RUN ALL: Training one VAE generator per class for all 50 ESC50 classes in a single node",
    "use_balooning": false,
    "optimize_memory_usage": true
  },
  "federation": {
    "algorithm": "FedA2V",
    "diffusion_type": "flux",
    "num_clients": 1,
    "global_rounds": 1,
    "local_epochs": 100,
    "eval_gap": 100,
    "model_aggregation": "none",
    "use_saved_audio_embeddings": false
  },
  "training": {
    "learning_rate": 0.001,
    "optimizer": "AdamW",
    "batch_size": 8,
    "weight_decay": 0.0001
  },
  "feda2v": {
    "use_generator": true,
    "generator_type": "vae",
    "generator_training_mode": true,
    "generator_only_mode": true,
    "use_pretrained_generators": false,

    "_comment_granularity_note": "One generator per class - All 50 ESC50 classes in a single node",
    "generator_granularity": "per_class",
    "generator_class_groups": null,

    "generator_checkpoint_dir": "checkpoints/generators/esc_50_vae_1n_50c",
    "generator_checkpoint_base_name": "vae_perclass",
    "generator_save_checkpoint": true,
    "generator_load_checkpoint": false,
    "generator_checkpoint_frequency": 5,

    "_comment_training": "=== GENERATOR TRAINING SETTINGS ===",
    "generator_training_epochs": 100,
    "generator_augmentation": true,
    "generator_augmentation_noise": 0.1,
    "generator_validation_frequency": 5,
    "generator_training_sequence_length": 1214,

    "_comment_adapter": "=== ADAPTER SETTINGS (Skipped in generator-only mode) ===",
    "adapter_aggregation_mode": "none",
    "global_model_train": false,
    "global_model_train_epochs": 0,
    "global_model_train_from_nodes_adapters": false,

    "t5_adapter_learning_rate": 0.01,
    "t5_adapter_weight_decay": 0.01,
    "clip_adapter_learning_rate": 0.001,
    "clip_adapter_weight_decay": 0.01,
    "adapters_learning_rate": 0.001,
    "adapters_weight_decay": 0.0001,

    "adapters_learning_rate_schedule": false,
    "t5_adapter_learning_rate_schedule": false,
    "clip_adapter_learning_rate_schedule": true,

    "_comment_generation": "=== IMAGE GENERATION (disabled in training mode) ===",
    "generate_nodes_images_frequency": 0,
    "generate_global_images_frequency": 0,
    "generate_low_memomy_footprint": true,
    "images_output_dir": "output_images/esc-1n-50c-real",
    "output_image_base_name": "20le_5gr-do0.1",
    "generate_from_clip_text_embeddings": false,
    "generate_from_t5_text_embeddings": false,

    "store_audio_embeddings": false,
    "audio_embedding_file_name": null
  },
  "nodes": {
    "0": {
      "dataset": "ESC50",
      "selected_classes": [
        "dog",
        "rooster",
        "pig",
        "cow",
        "frog",
        "cat",
        "hen",
        "insects",
        "sheep",
        "crow",
        "rain",
        "sea_waves",
        "crackling_fire",
        "crickets",
        "chirping_birds",
        "water_drops",
        "wind",
        "pouring_water",
        "toilet_flush",
        "thunderstorm",
        "crying_baby",
        "sneezing",
        "clapping",
        "breathing",
        "coughing",
        "footsteps",
        "laughing",
        "brushing_teeth",
        "snoring",
        "drinking_sipping",
        "door_wood_knock",
        "mouse_click",
        "keyboard_typing",
        "door_wood_creaks",
        "can_opening",
        "washing_machine",
        "vacuum_cleaner",
        "clock_alarm",
        "clock_tick",
        "glass_breaking",
        "helicopter",
        "chainsaw",
        "siren",
        "car_horn",
        "engine",
        "train",
        "church_bells",
        "airplane",
        "fireworks",
        "hand_saw"
      ],
      "diffusion_type": "flux",
      "train_ratio": 1.0,
      "val_ratio": 0.0,
      "test_ratio": 0.0
    }
  },
  "model": {
    "backbone": "a2v",
    "backbone_model": "hf_vit",
    "pretrained": false
  },
  "dataset": {
    "name": "ESC50",
    "path": "./data"
  },
  "wandb": {
    "disabled": false
  }
}
